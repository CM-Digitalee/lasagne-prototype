<h2>Users</h2>
<div *ngIf="(users | async)">
  <mat-table [dataSource]="users | async">
    <ng-container matColumnDef="id" >
      <mat-header-cell *matHeaderCellDef class="small-column">ID</mat-header-cell>
      <mat-cell *matCellDef="let row"  class="small-column"> {{row.id}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="referenceDate">
      <mat-header-cell *matHeaderCellDef> {{tl.translate('ST.WORD.DATE')}} </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.referenceDate}} </mat-cell>
    </ng-container>
    <ng-container matColumnDef="email">
      <mat-header-cell *matHeaderCellDef> {{tl.translate('ST.WORD.EMAIL')}} </mat-header-cell>
      <mat-cell *matCellDef="let row"> {{row.email}} </mat-cell>
    </ng-container>
    <!-- Title Definition -->
    <ng-container matColumnDef="action">
      <mat-header-cell *matHeaderCellDef> </mat-header-cell>
      <mat-cell *matCellDef="let row">
        <button mat-icon-button >
          <mat-icon>visibility</mat-icon>
        </button>
      </mat-cell>
    </ng-container>
    <ng-container matColumnDef="actors">
      <mat-header-cell *matHeaderCellDef> {{tl.translate('ST.ADMIN.HEADER.GRANTED_ACTORS')}} </mat-header-cell>
      <mat-cell *matCellDef="let row">
        <div *ngIf="row.actors">
          <ul>
            <li *ngFor="let actor of row.actors" class="actor-details">
              <span>{{actor.id}} : </span> <span>{{actor.corporateName}} </span> <span> {{actor.actor}}</span>
            </li>
          </ul>
        </div>
      </mat-cell>
    </ng-container>

    <!-- Header and Row Declarations -->
    <mat-header-row *matHeaderRowDef="['id', 'referenceDate', 'email', 'action', 'actors']"></mat-header-row>
    <mat-row *matRowDef="let row; columns: ['id','referenceDate', 'email', 'action', 'actors']"></mat-row>
  </mat-table>
</div>
<div *ngIf="!(users | async) || (users | async)?.length==0">
  No users found
</div>
